name: Tests

on:
    pull_request:
        branches:
            - main
    workflow_dispatch:

jobs:
    test:
        runs-on: ubuntu-latest
        env:
            BUNGIE_API_KEY: ${{ secrets.BUNGIE_API_KEY }}
            BUNGIE_CLIENT_ID: ${{ secrets.BUNGIE_CLIENT_ID }}
            BUNGIE_CLIENT_SECRET: ${{ secrets.BUNGIE_CLIENT_SECRET }}
        steps:
            - uses: actions/checkout@v2
            - run: yarn install
            - run: yarn test
